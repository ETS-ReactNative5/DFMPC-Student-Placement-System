{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { firebase } from \"../firebase\";\nimport { useEffect, useState } from \"react\";\nimport { SnapshotViewIOS } from \"react-native-web/dist/index\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar Test = function Test() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      restaurantsList = _useState2[0],\n      setRestaurantsList = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      errorMessage = _useState4[0],\n      setErrorMessage = _useState4[1];\n\n  var getRestaurants = function getRestaurants() {\n    var list, snapshot;\n    return _regeneratorRuntime.async(function getRestaurants$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            try {\n              list = [];\n              snapshot = firebase.firestore().collection(\"emergency_protocols\").get();\n              console.log(\"Here\");\n              snapshot.forEach(function (doc) {\n                list.push(doc.data());\n              });\n              setRestaurantsList(list);\n            } catch (e) {\n              setErrorMessage(\"There's nae bleeding restaurants, I told you to upload them!\");\n            }\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function () {\n    getRestaurants();\n  }, []);\n  return _jsx(View, {\n    style: tailwind('py-10 px-5'),\n    children: _jsx(Text, {\n      style: tailwind('text-4xl font-bold'),\n      children: restaurantsList\n    })\n  });\n};\n\nexport default Test;","map":{"version":3,"names":["firebase","useEffect","useState","SnapshotViewIOS","Test","restaurantsList","setRestaurantsList","errorMessage","setErrorMessage","getRestaurants","list","snapshot","firestore","collection","get","console","log","forEach","doc","push","data","e","tailwind"],"sources":["/home/cipher73/Desktop/Sd Project/DFMPC-Student-Placement-System/project/Screens/Test.js"],"sourcesContent":["import {firebase} from \"../firebase\"\nimport { useEffect, useState } from \"react\";\nimport { SnapshotViewIOS } from \"react-native\";\n// export async function getRestaurants(restaurantsRetrieved) {\n//   var restaurantList = [];\n\n//   var snapshot = await firebase.firestore().collection(\"Restaurants\").get();\n\n//   snapshot.forEach((doc) => {\n//     restaurantList.push(doc.data());\n//   });\n\n//   restauantsRetrieved(restaurantList);\n// }\nconst Test = () => \n{\n  const [restaurantsList, setRestaurantsList] = useState([]); //Initialise restaurant list with setter\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  const getRestaurants = async () => {\n    try {\n      const list = [];\n      \n      var snapshot =firebase.firestore().collection(\"emergency_protocols\").get();\n      console.log(\"Here\");\n      snapshot.forEach((doc) => {\n        list.push(doc.data());\n      });\n      setRestaurantsList(list);\n    } catch (e) {\n      setErrorMessage(\n        \"There's nae bleeding restaurants, I told you to upload them!\"\n      );\n    }\n  };\n\n  //Call when component is rendered\n  useEffect(() => {\n    getRestaurants();\n  }, []);\n\n  return (\n\n  <View style={tailwind('py-10 px-5')}>\n    <Text style={tailwind('text-4xl font-bold')}>\n      {restaurantsList}\n    </Text>\n   </View>\n  )\n};\n\n\n    \n      export default Test;\n"],"mappings":";;AAAA,SAAQA,QAAR;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;SACSC,e;;;AAYT,IAAMC,IAAI,GAAG,SAAPA,IAAO,GACb;EACE,gBAA8CF,QAAQ,CAAC,EAAD,CAAtD;EAAA;EAAA,IAAOG,eAAP;EAAA,IAAwBC,kBAAxB;;EACA,iBAAwCJ,QAAQ,CAAC,EAAD,CAAhD;EAAA;EAAA,IAAOK,YAAP;EAAA,IAAqBC,eAArB;;EAEA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB;IAAA;IAAA;MAAA;QAAA;UAAA;YACrB,IAAI;cACIC,IADJ,GACW,EADX;cAGEC,QAHF,GAGYX,QAAQ,CAACY,SAAT,GAAqBC,UAArB,CAAgC,qBAAhC,EAAuDC,GAAvD,EAHZ;cAIFC,OAAO,CAACC,GAAR,CAAY,MAAZ;cACAL,QAAQ,CAACM,OAAT,CAAiB,UAACC,GAAD,EAAS;gBACxBR,IAAI,CAACS,IAAL,CAAUD,GAAG,CAACE,IAAJ,EAAV;cACD,CAFD;cAGAd,kBAAkB,CAACI,IAAD,CAAlB;YACD,CATD,CASE,OAAOW,CAAP,EAAU;cACVb,eAAe,CACb,8DADa,CAAf;YAGD;;UAdoB;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAvB;;EAkBAP,SAAS,CAAC,YAAM;IACdQ,cAAc;EACf,CAFQ,EAEN,EAFM,CAAT;EAIA,OAEA,KAAC,IAAD;IAAM,KAAK,EAAEa,QAAQ,CAAC,YAAD,CAArB;IAAA,UACE,KAAC,IAAD;MAAM,KAAK,EAAEA,QAAQ,CAAC,oBAAD,CAArB;MAAA,UACGjB;IADH;EADF,EAFA;AAQD,CAnCD;;AAuCM,eAAeD,IAAf"},"metadata":{},"sourceType":"module"}