{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from \"react\";\nimport { requireNativeComponent } from \"react-native-web/dist/index\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { useEffect } from \"react-native-web/dist/index\";\nimport { useNavigation } from \"@react-navigation/core\";\nimport MapView from \"react-native-maps\";\nimport { Marker } from \"react-native-maps\";\nimport \"../global\";\nimport { firebase } from \"../firebase\";\nimport Getlocation from \"react-native-geolocation-service\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar Separator = function Separator() {\n  return _jsx(View, {\n    style: styles.separator\n  });\n};\n\nvar authname = authName;\nvar authlastName = authLastName;\n\nvar sendToFirestore = function sendToFirestore(text) {\n  firebase.firestore().collection(\"panic_button\").add({\n    Location: [-40, 30],\n    query: text,\n    student_Number: \"123456\",\n    user_FirstName: authname,\n    user_LastName: authlastName\n  }).then(function () {\n    Alert.alert(\"Emergency Message Saved\");\n    var authname = authName;\n    var authlastName = authLastName;\n  });\n};\n\nvar PanicButton = function PanicButton() {\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      text = _useState2[0],\n      setText = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      position = _useState4[0],\n      setPosition = _useState4[1];\n\n  var navigation = useNavigation();\n  return _jsxs(SafeAreaView, {\n    style: styles.container,\n    children: [_jsx(View, {\n      style: {\n        justifyContent: \"center\",\n        marginBottom: 30\n      },\n      children: _jsx(Text, {\n        style: {\n          fontSize: 20,\n          fontWeight: \"bold\",\n          color: \"#f194ff\",\n          textAlign: \"center\"\n        },\n        children: \"Emergency Button Page\"\n      })\n    }), _jsx(Separator, {}), _jsx(View, {\n      style: {\n        marginBottom: 20\n      },\n      children: _jsx(Button, {\n        title: \"Protocols\",\n        onPress: function onPress() {\n          return navigation.navigate(\"Protocols\");\n        }\n      })\n    }), _jsx(Separator, {}), _jsx(View, {\n      style: {\n        padding: 10,\n        marginBottom: 20\n      },\n      children: _jsx(TextInput, {\n        style: {\n          height: 90,\n          textAlign: \"center\",\n          backgroundColor: \"lightblue\"\n        },\n        placeholder: \"Type emergency message here!\",\n        onChangeText: function onChangeText(newText) {\n          return setText(newText);\n        },\n        defaultValue: text\n      })\n    }), _jsx(Separator, {}), _jsx(View, {\n      style: {\n        marginBottom: 20\n      },\n      children: _jsx(Button, {\n        title: \"Send Emergency message\",\n        color: \"#f194ff\",\n        onPress: function onPress() {\n          return sendToFirestore(text);\n        }\n      })\n    }), _jsx(Separator, {}), _jsxs(View, {\n      style: styles.MapStyle,\n      children: [_jsx(MapView, {\n        style: styles.map,\n        region: {\n          latitude: -26.18471,\n          longitude: 28.026791,\n          latitudeDelta: 0.0922,\n          longitudeDelta: 0.0421\n        }\n      }), _jsx(Marker, {\n        coordinate: {\n          latitude: -26.18471,\n          longitude: 28.026791\n        }\n      })]\n    }), _jsx(View, {\n      children: _jsx(Text, {\n        children: \"Display Current Location of device\"\n      })\n    })]\n  });\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    marginTop: 50,\n    flex: 1,\n    justifyContent: \"center\",\n    marginHorizontal: 16\n  },\n  title: {\n    textAlign: \"center\",\n    marginVertical: 8\n  },\n  fixToText: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\"\n  },\n  separator: {\n    marginVertical: 8,\n    borderBottomColor: \"#737373\",\n    borderBottomWidth: StyleSheet.hairlineWidth\n  },\n  map: {\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0\n  },\n  MapStyle: {\n    flex: 1,\n    margin: 20,\n    marginBottom: 90,\n    justifyContent: \"center\"\n  }\n});\nexport default PanicButton;","map":{"version":3,"names":["React","useState","requireNativeComponent","useEffect","useNavigation","MapView","Marker","firebase","Getlocation","Separator","styles","separator","authname","authName","authlastName","authLastName","sendToFirestore","text","firestore","collection","add","Location","query","student_Number","user_FirstName","user_LastName","then","Alert","alert","PanicButton","setText","position","setPosition","navigation","container","justifyContent","marginBottom","fontSize","fontWeight","color","textAlign","navigate","padding","height","backgroundColor","newText","MapStyle","map","latitude","longitude","latitudeDelta","longitudeDelta","StyleSheet","create","marginTop","flex","marginHorizontal","title","marginVertical","fixToText","flexDirection","borderBottomColor","borderBottomWidth","hairlineWidth","top","left","bottom","right","margin"],"sources":["/home/cipher73/Desktop/Project/DFMPC-Student-Placement-System/Screens/PanicButton.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport {\n  requireNativeComponent,\n  StyleSheet,\n  Button,\n  View,\n  SafeAreaView,\n  Text,\n  Alert,\n  TextInput,\n  Platform,\n  useEffect,\n} from \"react-native\";\nimport { useNavigation } from \"@react-navigation/core\";\nimport MapView from \"react-native-maps\";\nimport { Marker } from \"react-native-maps\";\nimport \"../global\";\nimport { firebase } from \"../firebase\";\nimport Getlocation from \"react-native-geolocation-service\";\nconst Separator = () => <View style={styles.separator} />;\n\n\nconst authname=authName;\nconst authlastName = authLastName;\nconst sendToFirestore = (text) => {\n  firebase\n    .firestore()\n    .collection(\"panic_button\")\n    .add({\n      Location: [-40,30],\n      query: text,\n      student_Number:\"123456\",\n      user_FirstName:authname,\n      user_LastName:authlastName\n    })\n    .then(() => {\n      Alert.alert(\"Emergency Message Saved\")\n      const authname=authName;\n      const authlastName = authLastName;\n    });\n};\n\nconst PanicButton = () => {\n  const [text, setText] = useState(\"\");\n  const [position,setPosition] = useState(null)\n  const navigation = useNavigation();\n\n \n   \n/*  Getlocation.getCurrentPosition(\n    (pos)=>{\n      setPosition(\n        pos.coords)\n    },\n    (error)=>{\n      Alert.alert(error.message)\n    },\n    {enableHighAccuracy:true,timeout:15000,maximumAge:10000}\n  )*/\n\n  return (\n    <SafeAreaView style={styles.container}>\n       <View style={{justifyContent:\"center\",marginBottom:30}}>\n       <Text style={{fontSize:20,fontWeight:\"bold\",color:\"#f194ff\",textAlign: \"center\",}}>Emergency Button Page</Text>\n      </View>\n      <Separator />\n      <View style={{marginBottom:20}}>\n        <Button\n          \n          title=\"Protocols\"\n          onPress={() => navigation.navigate(\"Protocols\")}\n        />\n      </View>\n      <Separator />\n\n      <View style={{ padding: 10,marginBottom:20 }}>\n        <TextInput\n          style={{ height: 90 ,textAlign: \"center\",backgroundColor:\"lightblue\" }}\n          placeholder=\"Type emergency message here!\"\n          onChangeText={(newText) => setText(newText)}\n          defaultValue={text}\n        />\n      </View>\n      <Separator />\n      <View style={{marginBottom:20}}>\n        <Button title=\"Send Emergency message\" color=\"#f194ff\"\n        onPress={()=>sendToFirestore(text)} />\n      </View>\n      <Separator />\n      <View style={styles.MapStyle}>\n        <MapView\n          style={styles.map}\n          region={{\n            latitude: -26.18471,\n            longitude: 28.026791,\n            latitudeDelta: 0.0922,\n            longitudeDelta: 0.0421,\n          }}\n        ></MapView>\n        <Marker\n          coordinate={{\n            latitude: -26.18471,\n            longitude: 28.026791,\n          }}\n          // image={{uri:\"./images/pin.png\"}}\n        />\n      </View>\n      <View><Text>\n        Display Current Location of device\n        </Text></View>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    marginTop: 50,\n    flex: 1,\n    justifyContent: \"center\",\n    marginHorizontal: 16,\n  },\n  title: {\n    textAlign: \"center\",\n    marginVertical: 8,\n  },\n  fixToText: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n  },\n  separator: {\n    marginVertical: 8,\n    borderBottomColor: \"#737373\",\n    borderBottomWidth: StyleSheet.hairlineWidth,\n  },\n  map: {\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0,\n  },\n  MapStyle: {\n    flex: 1,\n    margin: 20,\n    marginBottom: 90,\n\n    justifyContent: \"center\",\n  },\n});\n\nexport default PanicButton;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}